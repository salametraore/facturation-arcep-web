/* =======================================================
   PATCH COMPLET (à coller tel quel)
   - Sidenav BLANC
   - Logo aligné (toolbar dédié)
   - Pas d'effets de bord sur mat-toolbar global
======================================================= */

/* Icônes : alignement */
:host {
  .mat-icon {
    vertical-align: middle;
    margin-right: 8px; /* unifié (au lieu de 10 puis 8) */
  }
}

.sidenav-container {
  // height: 100%;
}

/* =======================================================
   SIDENAV : dimensions + fond blanc partout
======================================================= */
.sidenav {
  width: 300px; /* unifié (au lieu de 240 puis 300) */
}

@media (max-width: 960px) {
  .sidenav {
    width: 220px;
  }
}

/* Fond blanc drawer + container interne (important !) */
mat-sidenav.sidenav,
mat-sidenav.sidenav.mat-drawer,
mat-sidenav.sidenav .mat-drawer-inner-container {
  background: #ffffff !important;
}

/* Séparateur propre à droite */
mat-sidenav.sidenav {
  border-right: 1px solid rgba(0,0,0,.08);
  height: auto; /* on évite "content-box" qui est un value étrange ici */
}

/* Toolbar dans la sidenav (zone logo) : BLANC + centré */
mat-sidenav.sidenav mat-toolbar.side-brand,
mat-sidenav.sidenav .mat-toolbar.side-brand {
  background: #ffffff !important;
  height: 72px;
  margin: 0;               /* pas de margin-bottom ici */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 8px 12px;
}

/* Logo : taille stable (évite height="100%" dans le HTML) */
.brand-logo {
  height: 44px;
  width: auto;
  display: block;
}

/* Ancienne règle qui mettait le toolbar sidenav en rose -> neutralisée */
.sidenav .mat-toolbar {
  background: #ffffff !important;
}

/* Scroll zone menu */
.menu-scroll {
  background: transparent;
  overflow: auto;
  padding: 8px 6px 12px;
}

/* Nav list : pas de marge négative (ça désaligne souvent) */
mat-nav-list {
  padding-right: 0px;
  padding-left: 0px;
  margin-top: 0; /* PATCH : au lieu de -30px */
}

/* =======================================================
   EXPANSION PANELS (menu) : blancs, style “carte”
======================================================= */
mat-expansion-panel {
  background-color: #ffffff !important; /* PATCH : plus de #ffebee */
  padding-right: 0px;
  padding-left: 0px;

  border-radius: 12px;
  margin: 4px 6px;

  box-shadow: none;
  border: 1px solid rgba(0,0,0,.06);
}

/* ARCEP touch-ups (gardés) */
.menu-header {
  color: var(--brand-primary);
  display: flex;
  align-items: center;
}

.mat-expansion-indicator::after {
  color: var(--brand-primary);
}

/* Header panel : compact */
mat-expansion-panel-header {
  display: flex;
  flex-direction: row;
  align-items: center;

  padding-top: 0px;
  padding-bottom: 0px;
  padding-left: 0px;
  padding-right: 7px;

  transition: height 225ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Body panel : padding zéro */
.parametersPanel .mat-expansion-panel-body {
  padding: 0;
}

::ng-deep .mat-expansion-panel-body {
  padding: 0 !important;
}

/* Titres des modules en gras */
.sidenav .mat-expansion-panel-header-title {
  font-weight: 700;
}

/* Items 1er niveau en gras */
.sidenav mat-nav-list > div > a.mat-mdc-list-item .mdc-list-item__primary-text {
  font-weight: 700;
}

/* Sous-menus : poids normal */
.sidenav mat-expansion-panel .mat-nav-list a.mat-mdc-list-item .mdc-list-item__primary-text {
  font-weight: 500;
}

/* Leaf menu arrondi */
.menu-leaf {
  border-radius: 10px;
}

.menu-panel {
  margin: 4px 0;
}

/* État actif / hover (accent doux) */
a.mat-list-item.active-link,
a.mat-list-item:hover {
  background: color-mix(in srgb, var(--brand-primary) 10%, #fff 90%);
  border-radius: 8px;
}

/* =======================================================
   TOP TOOLBAR (APP) : sticky + alignements
   IMPORTANT : on ne met PLUS de règles globales mat-toolbar
======================================================= */

/* Remplace .mat-toolbar.mat-primary global par app-toolbar seulement */
mat-toolbar.app-toolbar {
  position: sticky;
  top: 0;
  z-index: 10;

  display: flex;
  align-items: center;
  min-height: 50px;
  padding: 0 8px;
}

/* Titre topbar */
.app-toolbar .app-title {
  font-weight: 700;
  letter-spacing: .2px;
}

/* pousse actions à droite */
.spacer {
  flex: 1 1 auto;
}

.toolbar-actions {
  display: flex;
  align-items: center;
  gap: .5rem;
}

/* icon buttons centrés */
.app-toolbar .mat-mdc-icon-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 0;
}

/* auth button */
.app-toolbar .auth-btn {
  text-transform: none;
  display: inline-flex;
  align-items: center;
  gap: .25rem;
  height: 40px;
  line-height: 1;
  font-weight: 600;
}

/* icônes dans topbar */
.app-toolbar .mat-icon {
  vertical-align: middle;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* =======================================================
   PROFIL CARD / DIVERS
======================================================= */
.profil-card {
  text-align: center;

  img {
    width: 50%;
    height: 50%;
    object-fit: cover;
    border-radius: 50%;
  }
}

.a_size {
  font-size: 1em;
}

ul li {
  list-style: none;
}

li {
  cursor: pointer;
}

/* =======================================================
   IMPORTANT : suppression des règles globales mat-toolbar
   (elles cassaient side-brand)
======================================================= */
/*
  ANCIEN (à ne plus remettre) :
  mat-toolbar { margin-bottom: 20px; }
  mat-toolbar { height: 50px; }
*/
